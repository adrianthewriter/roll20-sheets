<div class="sheet-root sheet-gildeduniverse"><input type="hidden" name="attr_dialog_session-log" value="hidden" class="sheet-field"><input type="hidden" name="attr_sheet_mode" value="character" class="sheet-field"><div class="sheet-dialog sheet-dialog--session-log"><div class="sheet-container"><label class="sheet-toggle"><input type="checkbox" name="attr_dialog_session-log" value="hidden" class="sheet-togglebox"><span></span></label><h2>Session Log</h2><div class="sheet-content"><div class="sheet-table--sessionlog"><div class="sheet-tableheader"><span class="sheet-view"></span><span>Session Date</span><span>XP Gained</span></div><fieldset class="repeating_sessionlog"><div class="sheet-tablerow"><input type="hidden" name="attr_session-header" class="sheet-toggle sheet-togglebox"><label class="sheet-toggle"><input type="checkbox" name="attr_session-toggle" value="hidden" class="sheet-togglebox"><span></span></label><input type="text" name="attr_session-date" value="" class="sheet-field"><input type="text" name="attr_session-xp" value="" class="sheet-field"><input type="hidden" name="attr_session-toggle" class="sheet-toggle sheet-togglebox"><div class="sheet-drawer sheet-drawer--session-details"><textarea name="attr_session-desc" class="sheet-field"></textarea><label class="sheet-toggle"><input type="checkbox" name="attr_session-header" value="checked" class="sheet-togglebox"><span>Mark as 'Header'</span></label></div></div></fieldset></div></div></div></div><div class="sheet-mode sheet-mode--character"><div class="sheet-header"><div><label class="sheet-field"><span>Name</span><input type="text" name="attr_character-name" value="" class="sheet-field"></label><label class="sheet-field"><span>Player</span><input type="text" name="attr_player-name" value="" class="sheet-field"></label><div class="sheet-container"><label class="sheet-toggle"><input type="checkbox" name="attr_dialog_session-log" value="checked" class="sheet-togglebox"><span></span></label><label class="sheet-field"><span>XP</span><input type="text" name="attr_character-xp" value="" class="sheet-field"><span class="sheet-sep">/</span><input type="text" name="attr_character-xp_max" value="" class="sheet-field"></label></div></div><div><h1 class="sheet-logo"><span class="sheet-logobox"><span class="sheet-logotype">Gilded Universe</span></span></h1><span class="sheet-subtitle" name="attr_sheet-mode_max">Character Sheet</span></div><div><label class="sheet-field"><span>Age</span><input type="text" name="attr_character-age" value="" class="sheet-field"></label><label class="sheet-field"><span>Sex</span><input type="text" name="attr_character-sex" value="" class="sheet-field"></label><label class="sheet-field"><span>Height</span><input type="text" name="attr_character-ht" value="" class="sheet-field"></label><label class="sheet-field"><span>Weight</span><input type="text" name="attr_character-wt" value="" class="sheet-field"></label></div></div><div class="sheet-sec sheet-sec--main"><div><div class="sheet-group sheet-group--attrs"><div class="sheet-label"><span>Attributes</span></div><div class="sheet-content"><div class="sheet-attr"><span class="sheet-label">STR</span><input type="text" name="attr_str" value="" class="sheet-field"><label class="sheet-toggle" title="Mark as 'Key Attribute'"><input type="checkbox" name="attr_marked-attr" value="str" class="sheet-togglebox"><span></span></label></div><div class="sheet-attr"><span class="sheet-label">DEX</span><input type="text" name="attr_dex" value="" class="sheet-field"><label class="sheet-toggle" title="Mark as 'Key Attribute'"><input type="checkbox" name="attr_marked-attr" value="dex" class="sheet-togglebox"><span></span></label></div><div class="sheet-attr"><span class="sheet-label">INT</span><input type="text" name="attr_int" value="" class="sheet-field"><label class="sheet-toggle" title="Mark as 'Key Attribute'"><input type="checkbox" name="attr_marked-attr" value="int" class="sheet-togglebox"><span></span></label></div><div class="sheet-attr"><span class="sheet-label">WIT</span><input type="text" name="attr_wit" value="" class="sheet-field"><label class="sheet-toggle" title="Mark as 'Key Attribute'"><input type="checkbox" name="attr_marked-attr" value="wit" class="sheet-togglebox"><span></span></label></div></div></div><div class="sheet-group sheet-flip sheet-group--stats"><div class="sheet-label"><span>Other Stats</span></div><div class="sheet-content"><div title="Health = 10 + STR; Click label to restore to full" class="sheet-field"><button type="action" name="act_restore-health"><span>Health</span></button><input type="text" name="attr_health" value="" class="sheet-field"><span class="sheet-sep">/</span><input type="text" name="attr_health_max" value="" class="sheet-field"></div><div><label class="sheet-field"><span>Armor</span><input type="text" name="attr_armor" value="" class="sheet-field"></label><label class="sheet-field"><span>Def.</span><input type="text" name="attr_defense" value="" class="sheet-field"></label></div><div title="Vigor = STR + DEX; Click label to restore to full" class="sheet-field"><button type="action" name="act_restore-vigor"><span>Vigor</span></button><input type="text" name="attr_vigor" value="" class="sheet-field"><span class="sheet-sep">/</span><input type="text" name="attr_vigor_max" value="" class="sheet-field"></div><div title="Resolve = INT + WIT; Click label to restore to full" class="sheet-field"><button type="action" name="act_restore-resolve"><span>Resolve</span></button><input type="text" name="attr_resolve" value="" class="sheet-field"><span class="sheet-sep">/</span><input type="text" name="attr_resolve_max" value="" class="sheet-field"></div><div title="Reaction = DEX + WIT" class="sheet-field"><button type="roll" name="roll_reaction" value="&amp;{template:reactionRoll} {{name=@{character-name}}} {{title=Reaction}} {{dice=[[@{reaction}-@{reaction}d6>2f<@{dex}scs=1cf=0]]}} "><span>Reaction</span></button><input type="text" name="attr_reaction" value="" class="sheet-field"></div><button type="roll" name="roll_initiative" value="&amp;{template:reactionRoll} {{name=@{character-name}}} {{shortName=@{character_name}}} {{title=Initiative}} {{initiative=[[1]]}} {{dice=[[[[@{reaction}+@{initiative-bonus}]]-[[@{reaction}+@{initiative-bonus}]]d6>2f<@{dex}scs=1cf=0 &amp;{tracker}]]}} " class="sheet-hidden tokenaction"></button><input type="hidden" name="attr_initiative-bonus" value="0" class="sheet-field"><label title="Speed = 30 ft." class="sheet-field"><span>Speed</span><input type="text" name="attr_speed" value="" class="sheet-field"></label></div></div></div><div class="sheet-box sheet-box--lifepaths"><h2><span class="sheet-label">Lifepaths</span></h2><div class="sheet-content"><div class="sheet-table--lifepaths"><fieldset class="repeating_lifepaths"><div class="sheet-tablerow"><label class="sheet-field"><span></span><input type="text" name="attr_lifepath" value="" class="sheet-field"></label><div class="sheet-meter" title="Take +2d6 (max 10d6) on two Skill checks related to this Lifepath."><input type="checkbox" name="attr_lifepath-bonus" value="0" checked="" class="sheet-hidden sheet-meterbox"><input type="checkbox" name="attr_lifepath-bonus" value="1" class="sheet-meterbox"><span></span><input type="checkbox" name="attr_lifepath-bonus" value="2" class="sheet-meterbox"><span></span></div></div></fieldset></div></div></div><div class="sheet-group sheet-group--skills"><div class="sheet-label"><span>Skills</span></div><div class="sheet-content"><div><input type="hidden" name="attr_brute-force_formula" value="{{dice=[[[[1+(?{Bonus Dice|0})-?{Burn|0}]]-[[2+(?{Bonus Dice|0})]]d6dl[[1+?{Burn|0}]]>2f<@{str}scs=1cf=0]]}} {{zerodice=1}}" class="sheet-field"><div class="sheet-field"><button type="roll" name="roll_brute-force" value="&amp;{template:skillRoll} {{name=@{character-name}}} {{title=Brute Force (STR)}}  @{brute-force_formula} "><span>Brute Force (STR)</span></button><input type="text" name="attr_brute-force" value="" class="sheet-field"></div><input type="hidden" name="attr_close-combat_formula" value="{{dice=[[[[1+(?{Bonus Dice|0})-?{Burn|0}]]-[[2+(?{Bonus Dice|0})]]d6dl[[1+?{Burn|0}]]>2f<@{str}scs=1cf=0]]}} {{zerodice=1}}" class="sheet-field"><div class="sheet-field"><button type="roll" name="roll_close-combat" value="&amp;{template:skillRoll} {{name=@{character-name}}} {{title=Close Combat (STR)}}  @{close-combat_formula} "><span>Close Combat (STR)</span></button><input type="text" name="attr_close-combat" value="" class="sheet-field"></div><input type="hidden" name="attr_machinery_formula" value="{{dice=[[[[1+(?{Bonus Dice|0})-?{Burn|0}]]-[[2+(?{Bonus Dice|0})]]d6dl[[1+?{Burn|0}]]>2f<@{str}scs=1cf=0]]}} {{zerodice=1}}" class="sheet-field"><div class="sheet-field"><button type="roll" name="roll_machinery" value="&amp;{template:skillRoll} {{name=@{character-name}}} {{title=Machinery (STR)}}  @{machinery_formula} "><span>Machinery (STR)</span></button><input type="text" name="attr_machinery" value="" class="sheet-field"></div><input type="hidden" name="attr_stamina_formula" value="{{dice=[[[[1+(?{Bonus Dice|0})-?{Burn|0}]]-[[2+(?{Bonus Dice|0})]]d6dl[[1+?{Burn|0}]]>2f<@{str}scs=1cf=0]]}} {{zerodice=1}}" class="sheet-field"><div class="sheet-field"><button type="roll" name="roll_stamina" value="&amp;{template:skillRoll} {{name=@{character-name}}} {{title=Stamina (STR)}}  @{stamina_formula} "><span>Stamina (STR)</span></button><input type="text" name="attr_stamina" value="" class="sheet-field"></div></div><div><input type="hidden" name="attr_mobility_formula" value="{{dice=[[[[1+(?{Bonus Dice|0})-?{Burn|0}]]-[[2+(?{Bonus Dice|0})]]d6dl[[1+?{Burn|0}]]>2f<@{dex}scs=1cf=0]]}} {{zerodice=1}}" class="sheet-field"><div class="sheet-field"><button type="roll" name="roll_mobility" value="&amp;{template:skillRoll} {{name=@{character-name}}} {{title=Mobility (DEX)}}  @{mobility_formula} "><span>Mobility (DEX)</span></button><input type="text" name="attr_mobility" value="" class="sheet-field"></div><input type="hidden" name="attr_piloting_formula" value="{{dice=[[[[1+(?{Bonus Dice|0})-?{Burn|0}]]-[[2+(?{Bonus Dice|0})]]d6dl[[1+?{Burn|0}]]>2f<@{dex}scs=1cf=0]]}} {{zerodice=1}}" class="sheet-field"><div class="sheet-field"><button type="roll" name="roll_piloting" value="&amp;{template:skillRoll} {{name=@{character-name}}} {{title=Piloting (DEX)}}  @{piloting_formula} "><span>Piloting (DEX)</span></button><input type="text" name="attr_piloting" value="" class="sheet-field"></div><input type="hidden" name="attr_ranged-combat_formula" value="{{dice=[[[[1+(?{Bonus Dice|0})-?{Burn|0}]]-[[2+(?{Bonus Dice|0})]]d6dl[[1+?{Burn|0}]]>2f<@{dex}scs=1cf=0]]}} {{zerodice=1}}" class="sheet-field"><div class="sheet-field"><button type="roll" name="roll_ranged-combat" value="&amp;{template:skillRoll} {{name=@{character-name}}} {{title=Ranged Combat (DEX)}}  @{ranged-combat_formula} "><span>Ranged Combat (DEX)</span></button><input type="text" name="attr_ranged-combat" value="" class="sheet-field"></div><input type="hidden" name="attr_tinkering_formula" value="{{dice=[[[[1+(?{Bonus Dice|0})-?{Burn|0}]]-[[2+(?{Bonus Dice|0})]]d6dl[[1+?{Burn|0}]]>2f<@{dex}scs=1cf=0]]}} {{zerodice=1}}" class="sheet-field"><div class="sheet-field"><button type="roll" name="roll_tinkering" value="&amp;{template:skillRoll} {{name=@{character-name}}} {{title=Tinkering (DEX)}}  @{tinkering_formula} "><span>Tinkering (DEX)</span></button><input type="text" name="attr_tinkering" value="" class="sheet-field"></div></div><div><input type="hidden" name="attr_history_formula" value="{{dice=[[[[1+(?{Bonus Dice|0})-?{Burn|0}]]-[[2+(?{Bonus Dice|0})]]d6dl[[1+?{Burn|0}]]>2f<@{int}scs=1cf=0]]}} {{zerodice=1}}" class="sheet-field"><div class="sheet-field"><button type="roll" name="roll_history" value="&amp;{template:skillRoll} {{name=@{character-name}}} {{title=History (INT)}}  @{history_formula} "><span>History (INT)</span></button><input type="text" name="attr_history" value="" class="sheet-field"></div><input type="hidden" name="attr_medicine_formula" value="{{dice=[[[[1+(?{Bonus Dice|0})-?{Burn|0}]]-[[2+(?{Bonus Dice|0})]]d6dl[[1+?{Burn|0}]]>2f<@{int}scs=1cf=0]]}} {{zerodice=1}}" class="sheet-field"><div class="sheet-field"><button type="roll" name="roll_medicine" value="&amp;{template:skillRoll} {{name=@{character-name}}} {{title=Medicine (INT)}}  @{medicine_formula} "><span>Medicine (INT)</span></button><input type="text" name="attr_medicine" value="" class="sheet-field"></div><input type="hidden" name="attr_science_formula" value="{{dice=[[[[1+(?{Bonus Dice|0})-?{Burn|0}]]-[[2+(?{Bonus Dice|0})]]d6dl[[1+?{Burn|0}]]>2f<@{int}scs=1cf=0]]}} {{zerodice=1}}" class="sheet-field"><div class="sheet-field"><button type="roll" name="roll_science" value="&amp;{template:skillRoll} {{name=@{character-name}}} {{title=Science (INT)}}  @{science_formula} "><span>Science (INT)</span></button><input type="text" name="attr_science" value="" class="sheet-field"></div><input type="hidden" name="attr_technology_formula" value="{{dice=[[[[1+(?{Bonus Dice|0})-?{Burn|0}]]-[[2+(?{Bonus Dice|0})]]d6dl[[1+?{Burn|0}]]>2f<@{int}scs=1cf=0]]}} {{zerodice=1}}" class="sheet-field"><div class="sheet-field"><button type="roll" name="roll_technology" value="&amp;{template:skillRoll} {{name=@{character-name}}} {{title=Technology (INT)}}  @{technology_formula} "><span>Technology (INT)</span></button><input type="text" name="attr_technology" value="" class="sheet-field"></div></div><div><input type="hidden" name="attr_command_formula" value="{{dice=[[[[1+(?{Bonus Dice|0})-?{Burn|0}]]-[[2+(?{Bonus Dice|0})]]d6dl[[1+?{Burn|0}]]>2f<@{wit}scs=1cf=0]]}} {{zerodice=1}}" class="sheet-field"><div class="sheet-field"><button type="roll" name="roll_command" value="&amp;{template:skillRoll} {{name=@{character-name}}} {{title=Command (WIT)}}  @{command_formula} "><span>Command (WIT)</span></button><input type="text" name="attr_command" value="" class="sheet-field"></div><input type="hidden" name="attr_manipulation_formula" value="{{dice=[[[[1+(?{Bonus Dice|0})-?{Burn|0}]]-[[2+(?{Bonus Dice|0})]]d6dl[[1+?{Burn|0}]]>2f<@{wit}scs=1cf=0]]}} {{zerodice=1}}" class="sheet-field"><div class="sheet-field"><button type="roll" name="roll_manipulation" value="&amp;{template:skillRoll} {{name=@{character-name}}} {{title=Manipulation (WIT)}}  @{manipulation_formula} "><span>Manipulation (WIT)</span></button><input type="text" name="attr_manipulation" value="" class="sheet-field"></div><input type="hidden" name="attr_observation_formula" value="{{dice=[[[[1+(?{Bonus Dice|0})-?{Burn|0}]]-[[2+(?{Bonus Dice|0})]]d6dl[[1+?{Burn|0}]]>2f<@{wit}scs=1cf=0]]}} {{zerodice=1}}" class="sheet-field"><div class="sheet-field"><button type="roll" name="roll_observation" value="&amp;{template:skillRoll} {{name=@{character-name}}} {{title=Observation (WIT)}}  @{observation_formula} "><span>Observation (WIT)</span></button><input type="text" name="attr_observation" value="" class="sheet-field"></div><input type="hidden" name="attr_survival_formula" value="{{dice=[[[[1+(?{Bonus Dice|0})-?{Burn|0}]]-[[2+(?{Bonus Dice|0})]]d6dl[[1+?{Burn|0}]]>2f<@{wit}scs=1cf=0]]}} {{zerodice=1}}" class="sheet-field"><div class="sheet-field"><button type="roll" name="roll_survival" value="&amp;{template:skillRoll} {{name=@{character-name}}} {{title=Survival (WIT)}}  @{survival_formula} "><span>Survival (WIT)</span></button><input type="text" name="attr_survival" value="" class="sheet-field"></div></div></div></div><div class="sheet-box sheet-box--injuries"><h2><span class="sheet-label">Critical Injuries</span></h2><div class="sheet-content"><div class="sheet-table--injuries"><fieldset class="repeating_injuries"><div class="sheet-tablerow"><label class="sheet-field"><span></span><input type="text" name="attr_injury" value="" class="sheet-field"></label><label class="sheet-field"><span></span><input type="text" name="attr_injury_max" value="" class="sheet-field"></label></div></fieldset></div></div></div><div class="sheet-box sheet-box--augments"><h2><span class="sheet-label">Augments</span></h2><div class="sheet-content"><div class="sheet-table--augments"><fieldset class="repeating_augments"><div class="sheet-tablerow"><input type="hidden" name="attr_augment_max" class="sheet-toggle sheet-togglebox"><label class="sheet-toggle"><input type="checkbox" name="attr_augment_max" value="expand" class="sheet-togglebox"><span></span></label><label class="sheet-field"><span></span><input type="text" name="attr_augment" value="" class="sheet-field"></label><label class="sheet-field"><span></span><textarea name="attr_augment" class="sheet-field"></textarea></label></div></fieldset></div></div></div><div class="sheet-box sheet-box--equipment"><h2><span class="sheet-label">Equipment</span></h2><div class="sheet-content"><label class="sheet-field"><span>$</span><input type="text" name="attr_money" value="" class="sheet-field"></label><button type="roll" name="roll_startingmoney" value="&amp;{template:moneyRoll} {{name=@{character-name}}} [[ [[1000]] + [[@{starting-money-1}]] + [[@{starting-money-2}]] + [[@{starting-money-3}]] ]] {{@{starting-money-1|max}=$[[1]]}} {{@{starting-money-2|max}=$[[2]]}} {{@{starting-money-3|max}=$[[3]]}} {{total=$[[4]]}}" class="sheet-hidden"></button><span>Roll [number] or higher on 1d6 to ready an item as a Fast Action.</span><div class="sheet-table--equipment"><fieldset class="repeating_equipment"><div class="sheet-tablerow"><input type="hidden" name="attr_item_max" class="sheet-toggle sheet-togglebox"><label class="sheet-toggle"><input type="checkbox" name="attr_item_max" value="expand" class="sheet-togglebox"><span></span></label><label class="sheet-field"><span></span><input type="text" name="attr_item" value="" class="sheet-field"></label><label class="sheet-field"><span></span><textarea name="attr_item" class="sheet-field"></textarea></label></div></fieldset></div><h4>Other Items</h4><div class="sheet-table--other-items"><fieldset class="repeating_other-items"><div class="sheet-tablerow"><input type="text" name="attr_item" value="" class="sheet-field"></div></fieldset></div></div></div><div class="sheet-box sheet-box--notes"><h2><span class="sheet-label">Notes</span></h2><div class="sheet-content"><div class="sheet-table--notes"><fieldset class="repeating_notes"><div class="sheet-tablerow"><input type="hidden" name="attr_note_max" class="sheet-toggle sheet-togglebox"><label class="sheet-toggle"><input type="checkbox" name="attr_note_max" value="expand" class="sheet-togglebox"><span></span></label><label class="sheet-field"><span></span><input type="text" name="attr_note" value="" class="sheet-field"></label><label class="sheet-field"><span></span><textarea name="attr_note" class="sheet-field"></textarea></label></div></fieldset></div></div></div></div><div class="sheet-sec sheet-sec--side"><div class="sheet-box sheet-box--talents"><h2><span class="sheet-label">Talents</span></h2><div class="sheet-content"><div class="sheet-table--talents"><fieldset class="repeating_talents"><div class="sheet-tablerow"><input type="hidden" name="attr_talent_max" value="checked" class="sheet-toggle sheet-togglebox"><label class="sheet-toggle"><input type="checkbox" name="attr_talent_max" value="expand" class="sheet-togglebox"><span></span></label><label class="sheet-field"><span></span><input type="text" name="attr_talent" value="" class="sheet-field"></label><label class="sheet-field"><span></span><textarea name="attr_talent-desc" class="sheet-field"></textarea></label></div></fieldset></div></div></div></div></div></div><div class="message general"><rolltemplate class="sheet-rolltemplate-reactionRoll"><div class="sheet-rollbox"><div class="sheet-rollheader"><p class="sheet-rollprelude"><em>{{name}}</em>{{#title}}<span>{{#action}}{{action}}{{/action}}{{^action}}checks{{/action}}</span><span class="sheet-rolltitle">{{title}}</span>{{/title}}</p></div><div class="sheet-rollcontent"><span class="sheet-rolloutput">{{dice}}{{#rollTotal() dice 0}} HITs{{^initiative}}<span class="sheet-rollfumble">Failure</span>{{/initiative}}{{/rollTotal() dice 0}}{{#rollTotal() dice 1}} HIT{{^initiative}}<span class="sheet-rollsuccess">Weak Success</span>{{/initiative}}{{/rollTotal() dice 1}}{{#rollGreater() dice 1}} HITs{{^initiative}}<span class="sheet-rollcrit">Strong Success</span>{{#rollWasCrit() dice}}<span class="sheet-rollresult">with TRIGGERS!</span>{{/rollWasCrit() dice}}{{/initiative}}{{/rollGreater() dice 1}}</span>{{#rollTotal() initiative 1}}<hr><span class="sheet-rollnote">{{shortName}} is in group {{dice}}.</span>{{#rollWasCrit() dice}}<br><span class="sheet-rollnote">Gain +1 Combat Action per TRIGGER rolled!</span>{{/rollWasCrit() dice}}{{/rollTotal() initiative 1}}</div></div></rolltemplate></div><div class="message general"><rolltemplate class="sheet-rolltemplate-skillRoll"><div class="sheet-rollbox"><div class="sheet-rollheader"><p class="sheet-rollprelude"><em>{{name}}</em>{{#title}}<span>{{#action}}{{action}}{{/action}}{{^action}}checks{{/action}}</span><span class="sheet-rolltitle">{{title}}</span>{{/title}}</p></div><div class="sheet-rollcontent"><span class="sheet-rolloutput">{{#zerodice}}<span class="sheet-rollresult">Untrained Skill</span>{{/zerodice}}{{dice}}{{#rollTotal() dice 0}} HITs<span class="sheet-rollfumble">Failure</span>{{/rollTotal() dice 0}}{{#rollTotal() dice 1}} HIT<span class="sheet-rollsuccess">Weak Success</span>{{/rollTotal() dice 1}}{{#rollGreater() dice 1}} HITs<span class="sheet-rollcrit">Strong Success</span>{{#rollWasCrit() dice}}<span class="sheet-rollresult">with TRIGGERS!</span>{{/rollWasCrit() dice}}{{/rollGreater() dice 1}}</span>{{#rollTotal() marked 1}}{{#rollGreater() dice 0}}<hr><span class="sheet-rollnote">You're using your Key Attribute. Gain +1 XP! (Except during combat)</span>{{/rollGreater() dice 0}}{{/rollTotal() marked 1}}{{#rollTotal() dice 0}}<hr><span class="sheet-rollnote">You learn from your mistakes. Gain +1 XP! (Except during combat)</span>{{/rollTotal() dice 0}}</div></div></rolltemplate></div><div class="message general"><rolltemplate class="sheet-rolltemplate-moneyRoll"><div class="sheet-rollbox"><div class="sheet-rollheader"><p class="sheet-rollprelude"><em>{{name}}</em><span>rolls for</span><span class="sheet-rolltitle">starting money</span></p></div><div class="sheet-rollcontent"><span class="sheet-rolloutput"><span class="sheet-rollnote">$1000 for starting out</span><br>{{#allprops() name total}}<span class="sheet-rollnote">${{value}} from "The {{key}}"</span><br>{{/allprops() name total}}<hr><span class="sheet-rollresult">${{total}} total</span></span></div></div></rolltemplate></div>
<script type="text/worker">(()=>{"use strict";var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{onChangeKeyAttr:()=>c,onChangeLifepath:()=>$,onChangeSessionLog:()=>C,onChangeSkills:()=>j,onChangeStats:()=>A,onClickRefillStats:()=>B,onCreateSheet:()=>s,onTrackXP:()=>T});const r=JSON.parse('{"u2":"gilded-universe","i8":"0.1.0"}');class n{constructor(){return this.__triggers=[],this.__attrs=[],this.__fields=[],this}getTriggers(){return this.triggers.map((t=>{let{event:e,attr:r,section:n}=t;return n&&r?`${e}:repeating_${n}:${r}`:n&&!r?`${e}:repeating_${n}`:`${e}:${r}`}))}get triggers(){return this.__triggers}get attrs(){return this.__attrs}get fields(){return this.__fields}addTrigger(t){this.__triggers.push(t)}addAttr(t){this.__attrs.push(t)}addField(t){this.__fields.push(t)}}function i(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const s=function(t){t.listen("sheet:opened").getAttrs(["sheet_ver","character_name","character-name"]).then((function(t){var e,r=t.version,n=t.attrSet,a=t.setAttrs,s=n.character_name,l=n["character-name"]||s,c=n.sheet_ver,u=r;if(c&&""!=c)return a(o({},"sheet_ver",u)),!1;var f=function(t,e){var r;if(t>0)return(r=t,i(Array(r+1).keys()).slice(1)).map((function(){var t=generateRowID();return Object.fromEntries(e.map((function(e){var r=e.field,n=e.value;return["".concat(t,"_").concat(r),n]})))}))};a((o(e={},"sheet_ver",u),o(e,"sheet_mode","character"),o(e,"character-name",""!=l?l:s),o(e,"str","3"),o(e,"dex","3"),o(e,"int","3"),o(e,"wit","3"),o(e,"character-xp",450),o(e,"character-xp_max",450),o(e,"starting-money-1","0"),o(e,"starting-money-2","0"),o(e,"starting-money-3","0"),o(e,"money",""),e),(function(){console.log("Your new character was created! Have fun!")})),a(Object.assign.apply(Object,i(f(1,[{field:"session-toggle",value:"hidden"},{field:"session-date",value:"Character Creation"},{field:"session-xp",value:"450"}])).concat(i(f(1,[{field:"session-toggle",value:"hidden"},{field:"session-date",value:"Bonus Starting XP"},{field:"session-xp",value:"roll 2d6x10"}])),i(f(1,[{field:"session-toggle",value:"hidden"},{field:"session-date",value:"Campaign Arc 1"},{field:"session-header",value:"checked"}])),i(f(1,[{field:"session-date",value:"First Session!"},{field:"session-xp",value:""}])))),"sessionlog"),a(Object.assign.apply(Object,i(f(3,[{field:"lifepath",value:""}]))),"lifepaths"),a(Object.assign.apply(Object,i(f(6,[{field:"item",value:""}]))),"equipment"),a(Object.assign.apply(Object,i(f(4,[{field:"item",value:""}]))),"other-items")}))};function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const c=function(t){t.listen(["change:marked-attr"]).getAttrs(["str","dex","int","wit","marked-attr"]).then((function(t){var e=t.e,r=t.attrSet,n=t.setAttrs,i="0"!==e.newValue&&String(e.newValue),a="0"!==e.previousValue&&String(e.previousValue),o=parseInt(r[i])||0,s=parseInt(r[a])||0;if(a!==i){var c,u=function(t,e){e=parseInt(e)||0;var r="increase"===t?e+1:e-1;return r>5&&(r=5),r<1&&(r=""),r};if(parseInt(s)>1)n((l(c={},i,u("increase",o)),l(c,a,u("reduce",s)),c))}}))};var u,f;function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d={skills:(u={},h(u,"brute-force","str"),h(u,"close-combat","str"),h(u,"machinery","str"),h(u,"stamina","str"),h(u,"mobility","dex"),h(u,"piloting","dex"),h(u,"ranged-combat","dex"),h(u,"tinkering","dex"),h(u,"history","int"),h(u,"medicine","int"),h(u,"science","int"),h(u,"technology","int"),h(u,"command","wit"),h(u,"manipulation","wit"),h(u,"observation","wit"),h(u,"survival","wit"),u),lifepaths:{adventurer:{attr:"dex",skills:["observation","survival"],money:"1d6*100"},afflicted:{attr:"dex",skills:["observation","survival"],money:"1d6*100"},archivist:{attr:"int",skills:["history","science"],money:"1d6*150"},champion:{attr:"str",skills:["ranged-combat","mobility"],money:"2d6*200"},chosen:{attr:"wit",skills:["command","manipulation"],money:"2d6*250"}},talents:(f={},h(f,"improved passive defense",[["defense",1]]),h(f,"improved speed",[["speed",5]]),h(f,"initiative bonus",[["initiative",1]]),h(f,"extra health",[["health",1]]),h(f,"extra health 2",[["health",1]]),h(f,"extra health 3",[["health",1]]),h(f,"extra vigor",[["vigor",1]]),h(f,"extra resolve",[["resolve",1]]),h(f,"test",[["health",1],["vigor",1]]),f)};function g(t){return!(!d||!t||null===t||0===t.trim().length)&&d[t]}function p(t){return!(!d||!t||null===t||0===t.trim().length)&&Object.keys(d[t])}function m(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(t,e)||b(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){if(t){if("string"==typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const A=function(t){t.listen(["change:str","change:dex","change:int","change:wit"]).listen(["change","remove"],"talents").getAttrs(["str","dex","int","wit","health","vigor","resolve","reaction","initiative-bonus","speed","defense"]).getFields(["talent"],"talents").then((function(t){var e=t.e,r=t.attrSet,n=t.getAllFields,i=t.setAttrs,a={},o=parseInt(r.str)||0,s=parseInt(r.dex)||0,l=parseInt(r.int)||0,c=parseInt(r.wit)||0,u=!!e.sourceAttribute.match(/repeating_talents_(-.+)_talent/i)&&e.previousValue!==e.newValue||!!e.removedInfo;n("talents",(function(t){var n=t?t.map((function(t){return t.talent.toLowerCase()})):[],f=Object.entries(g("talents")).map((function(t){var e=v(t,2),r=e[0];return e[1].map((function(t){var e=v(t,2),i=e[0],a=e[1];return n.includes(r.toLowerCase())?[i,a]:[i,0]}))})).filter((function(t){return t})).flat(),h=function(t){return m(f).reduce((function(e,r){var n=v(r,2),i=n[0],a=n[1];return t===i?e+parseInt(a):e}),0)},d=h("health"),p=h("vigor"),b=h("resolve"),y=h("reaction"),_=h("initiative"),A=h("speed"),w=h("defense");if("str"===e.sourceAttribute||d||u){var S=parseInt(r.health)||0,x=o?10+o+d:"";a.health_max=x,a.health=S&&S<=x?S:x}if("str"===e.sourceAttribute||"dex"===e.sourceAttribute||p||u){var j=parseInt(r.vigor)||0,I=o&&s?o+s+p:"";a.vigor_max=I,a.vigor=j&&j<=I?j:I}if("int"===e.sourceAttribute||"wit"===e.sourceAttribute||b||u){var O=parseInt(r.resolve)||0,E=l&&c?l+c+b:"";a.resolve_max=E,a.resolve=O&&O<=E?O:E}var k=l&&c?l+c+y:"";a.reaction=k||"";var $=parseInt(_)||0;a["initiative-bonus"]=$||0;var C=30+A;a.speed=C?"".concat(C," ft."):"30 ft.";var F=parseInt(w)||0;a.defense=F?1+F:1,i(a,(function(){console.log("Stats updated")}))}))}))};function w(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const j=function(t){Object.entries(g("skills")).forEach((function(e){var r=S(e,2),n=r[0],i=r[1];t.listen("change:".concat(n)).then((function(t){var e=t.e,r=t.setAttrs,a=parseInt(e.newValue);a>10&&(a=10),a<1&&(a=0),r(w({},n,a||""));r(w({},"".concat(n,"_formula"),function(t,e){return e>0?"{{dice=[[[[".concat(e,"+(?{Bonus Dice|0})-?{Burn|0}]]-[[").concat(e,"+(?{Bonus Dice|0})]]d6dl?{Burn|0}>2f<@{").concat(t,"}scs=1cf=0]]}}"):"{{dice=[[[[1+(?{Bonus Dice|0})-?{Burn|0}]]-[[2+(?{Bonus Dice|0})]]d6dl[[1+?{Burn|0}]]>2f<@{".concat(t,"}scs=1cf=0]]}} {{zerodice=1}}")}(i,e.newValue||"0")))}))}))};function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(t,e)||E(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t){return function(t){if(Array.isArray(t))return k(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||E(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){if(t){if("string"==typeof t)return k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(t,e):void 0}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const $=function(t){t.listen(["change","remove"],"lifepaths").getFields("lifepath","lifepaths").getAttrs([].concat(O(p("skills")),["money","starting-money-1","starting-money-2","starting-money-3"])).then((function(t){var e=t.e,r=t.attrSet,n=t.getAllFields,i=t.setAttrs;if("player"===e.sourceType){var a=function(t){return!!t&&String(t.toLowerCase().replace(/^the /i,"")||"")},o=e.sourceAttribute.match(/^repeating_lifepaths_(-.+)_lifepath$/),s=o&&o[1]||!1,l=a(e.newValue&&e.newValue||!1),c=a(e.removedInfo&&Object.values(e.removedInfo)[0]||e.previousValue&&e.previousValue||!1);c===l&&(c=!1),n("lifepaths",(function(t){var e=g("lifepaths"),n=t.map((function(t){return{rowId:t.rowId,lifepath:a(t.lifepath)}})),o=!1;if(l&&s===n[n.length-1].rowId){var u=n[n.length-1].lifepath;o=!!e[u]&&e[u].attr}else if(!l&&!s){var f=n[n.length-1].lifepath;o=!!e[f]&&e[f].attr}var h={add:[],remove:[]};h.add=l?e[l]&&e[l].skills:[],h.remove=c?e[c]&&e[c].skills:[];var d={};if(n.findIndex((function(t){return t.lifepath===l}))<3){var p=n.slice(0,3);for(var m in p){var v=p[m].lifepath,b=parseInt(m)+1;d["starting-money-".concat(b)]=e[v].money,d["starting-money-".concat(b,"_max")]=v}console.log("money updated:",d)}var y={};o&&(y["marked-attr"]=o),h&&h.remove&&h.remove.length&&h.remove.forEach((function(t){y[t]=(parseInt(y[t])||parseInt(r[t])||0)-1||0})),h&&h.add&&h.add.length&&h.add.forEach((function(t){y[t]=(parseInt(y[t])||parseInt(r[t])||0)+1||0})),d&&Object.entries(d).forEach((function(t){var e=I(t,2),r=e[0],n=e[1];console.log(r,n),y[r]=n})),i(y,(function(){console.log("Lifepath updated")}))}))}}))};const C=function(t){t.listen(["change:session-xp","change:session-header","remove"],"sessionlog").getFields(["session-date","session-xp","session-header"],"sessionlog").then((function(t){t.e;var e=t.getAllFields,r=t.setAttrs;e("sessionlog",(function(t){var e,n,i,a=0;t.forEach((function(t){"checked"!==t["session-header"]&&(a+=parseInt(t["session-xp"],10)||0)})),r((i=a,(n="character-xp_max")in(e={})?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e))}))}))};function F(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return V(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const T=function(t){var e={skills:p("skills"),tables:["lifepaths","talents"]},r=[].concat(e.skills.map((function(t){return"change:".concat(t)})),e.tables.map((function(t){return"change:repeating_".concat(t)})),e.tables.map((function(t){return"remove:repeating_".concat(t)})),["change:character-xp_max"]);t.listen(r).getAttrs(["character-xp_max"]).getAttrs(e.skills).getFields("lifepath","lifepaths").getFields("talent","talents").then((function(t){t.e;var e=t.attrSet,r=t.getAllFields,n=t.setAttrs;r("lifepaths",(function(t){var i=t?t.length:0;r("talents",(function(t){var r,a=t?t.length:0,o=0,s=0,l=Object.fromEntries(Object.entries(e).filter((function(t){return"character-xp_max"!==F(t,1)[0]}))),c=0-2*i;Object.values(l).forEach((function(t){c+=parseInt(t)||0})),r=c>0?25*c:0,o+=i>3?100*(i-3):0,s+=25*a;var u,f,h,d=e["character-xp_max"];n((h=d-(r+o+s),(f="character-xp")in(u={})?Object.defineProperty(u,f,{value:h,enumerable:!0,configurable:!0,writable:!0}):u[f]=h,u))}))}))}))};function P(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const B=function(t){Array("health","vigor","resolve").forEach((function(e){t.listen("clicked:restore-".concat(e)).getAttrs("".concat(e,"_max")).then((function(t){var r=t.attrSet;(0,t.setAttrs)(P({},e,r["".concat(e,"_max")]||0))})),t.listen("change:".concat(e)).getAttrs([e,"".concat(e,"_max")]).then((function(t){var r=t.e,n=t.attrSet,i=t.setAttrs;if("player"===r.sourceType){var a,o=parseInt(n["".concat(e,"_max")])||0,s=parseInt(r.previousValue)||0,l=(String(r.newValue)||"").match(/^(\+|-)*(\d+)/),c=l&&l[1],u=parseInt(l&&l[2])||0;c?c&&"+"===c?a=s+u:c&&"-"===c&&(a=s-u):a=u,a>o&&(a=o),a<0&&(a=0),console.log("".concat(s," ").concat(c," ").concat(u," = ").concat(a)),i(P({},e,a))}}))}))};var L=new class{constructor(t,e){return this.__gameId=t,this.__version=e,this.__context=new n,this.toolbox=this.__toolbox(),this.util=this.__util(),this}get gameId(){return this.__gameId}get version(){return this.__version}get ctx(){return this.__context}resetCtx(){this.__context=new n}__util(){return{parseValues:(t,e=!1)=>{let r={},n={};return r=(t=Object.entries(t)).filter((([t,e])=>!t.includes("repeating_"))),r=Object.fromEntries(r),t.filter((([t,e])=>t.includes("repeating_"))).forEach((([t,e])=>{let r,i,a,o;if(r=t.match(/^repeating_([A-Za-z0-9-]+)_?(-[A-Za-z0-9-]+)?_([A-Za-z0-9-_]+)$/),i=!!r[1]&&r[1],a=!!r[2]&&r[2],o=!!r[3]&&r[3],n[i]||(n[i]=[]),n[i].length){let t=n[i].filter((t=>t.rowId===a))[0];t||n[i].push({rowId:a,[o]:e}),t&&!t[o]&&(t[o]=e)}else n[i].push({rowId:a,[o]:e})})),e&&(n=Object.entries(n),n=n.map((([t,e])=>(1===e.length&&(e=e[0]),[t,e]))),n=Object.fromEntries(n)),{attrSet:r,fieldSet:n}}}}__toolbox(){return{setAttrs:(t,...e)=>{let r,n;1===e.length&&_.isFunction(e[0])?n=e[0]:1===e.length&&_.isString(e[0])?r=e[0]:2===e.length&&_.isString(e[0])&&_.isFunction(e[1])&&(r=e[0],n=e[1]),r&&(t=(t=Object.entries(t)).map((([t,e])=>[`repeating_${r}_${t}`,e])),t=Object.fromEntries(t)),n?setAttrs(t,n):setAttrs(t)},getAllFields:(t,e,r)=>{getAttrs([`_reporder_repeating_${e}`],(n=>{getSectionIDs(e,(i=>{let a=n[`_reporder_repeating_${e}`]?n[`_reporder_repeating_${e}`].toLowerCase().split(","):[],o=[...new Set(a.filter((t=>i.includes(t))).concat(i))],s=Object.getOwnPropertyNames(t[e][0]),l=new Set;o.forEach((t=>{s.forEach((r=>{"rowId"!==r&&l.add(`repeating_${e}_${t}_${r}`)}))})),getAttrs(Array.from(l),(t=>{const{fieldSet:n}=this.util.parseValues(t);_.partial(r,n[e])()}))}))}))}}}listen(t,e=!1){if(!t)throw new Error("'listen()' must be called with an 'triggers' argument in the form of a String or an Array<String>.");return this.ctx&&this.ctx.triggers.length||this.resetCtx(),t&&_.isString(t)&&(t=t.split(" ")),(t=t.map((t=>({event:(t=t.split(":"))[0]?t[0]:_.noop(),attr:t[1]?t[1]:_.noop(),section:e||_.noop()})))).forEach((t=>{this.ctx.addTrigger(t)})),this}getAttrs(t){if(!t)throw new Error("'getAttrs()' must be called with an 'attrs' argument in the form of a String or an Array<String>.");return t&&_.isString(t)&&(t=t.split(" ")),t.forEach((t=>{this.ctx.addAttr(t)})),this}getFields(t,e,r=!1){if(!t)throw new Error("'getFields()' must be called with an 'fields' argument in the form of a String or an Array<String>.");if(!e)throw new Error("'getFields()' must be called with an 'section' argument in the form of a String.");return t&&_.isString(t)&&(t=t.split(" ")),t=t.map((t=>({field:t,section:e}))),r?t:(t.forEach((t=>{this.ctx.addField(t)})),this)}then(t){if(!_.isFunction(t))throw new Error("'.then()' must receive a function.");let e,r,n;return e=this.ctx.getTriggers(),r=this.ctx.attrs,n=this.ctx.fields.map((({section:t,field:e})=>`repeating_${t}_${e}`)),on(e.join(" "),(i=>{getAttrs(_.union(r,n),(r=>{const{attrSet:n,fieldSet:a}=this.util.parseValues(r);try{_.partial(t,{e:i,gameId:this.gameId,version:this.version,attrSet:n,fieldSet:a,getAllFields:_.partial(this.toolbox.getAllFields,a),setAttrs:_.partial(this.toolbox.setAttrs)})()}catch(t){throw new Error(`SheetWorker failed in 'on(${e.join(" ")})'`,t)}}))})),this.resetCtx(),!1}}(r.u2,r.i8);Object.values(e).forEach((function(t){return t(L)}))})();</script>